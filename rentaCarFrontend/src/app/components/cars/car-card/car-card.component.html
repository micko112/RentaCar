<div class="card-container">
  <div class="info-section">
    <img [src]="car.picture" alt="Slika vozila" class="vehicle-picture" />

    <div class="details-section">
      <h4><b>Model:</b> {{ car.carModel.name }}</h4>
      <h4><b>Godište:</b> {{ car.year }}</h4>
      <h4><b>Registracija:</b> {{ car.licensePlate }}</h4>
      <h4><b>Menjač:</b> {{ car.transmission }}</h4>
      <h4><b>Napomene:</b> {{ car.notes }}</h4>
    </div>

    <!-- Dugmad za ADMINA (radnika) -->
    <div class="action-buttons" *ngIf="userService.getUserStatus() == 'admin'">
      <button class="button" (click)="update()">Izmeni</button>
      <button class="button" (click)="delete(car)">Obriši</button>
    </div>

    <!-- Dugme za KLIJENTA (ako je auto dostupan) -->
    <div class="action-buttons" *ngIf="clientService.getUserStatus() == 'user' && car.status == 1">
      <button class="button" (click)="rentCar(car)">Iznajmi</button>
    </div>

    <!-- Poruka ako auto nije dostupan -->
    <div class="unavailable-tag" *ngIf="clientService.getUserStatus() == 'user' && car.status != 1">
      <span>Nije dostupno</span>
    </div>
  </div>

  <!-- Modal za izmenu se pojavljuje ovde ako je 'edit' true -->
  <app-car-update-modal
    *ngIf="edit"
    [car]="car"
    (saveCar)="onSave($event)"
    (closeModal)="edit = false"
  ></app-car-update-modal>
</div>
