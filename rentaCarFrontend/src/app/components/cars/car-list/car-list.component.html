<div class="page-container">
  <div class="content-container">
    <div class="page-header">
      <h1>Naša Ponuda Vozila</h1>
      <!-- Dugme vidljivo samo adminu, vodi na /cars/add rutu -->
      <button *ngIf="userService.getUserStatus() === 'admin'" routerLink="/cars/add" class="button add-button">
        + Dodaj Novo Vozilo
      </button>
    </div>

    <form [formGroup]="searchForm" (ngSubmit)="performSearch()" class="simplified-form">

      <!-- Локација преузимања -->
      <select formControlName="pickupLocation" class="form-field">
        <option [ngValue]="null" disabled>Локација преузимања</option>
        <option *ngFor="let loc of locations" [value]="loc">{{ loc }}</option>
      </select>

      <!-- Датум преузимања -->
      <input type="date" formControlName="pickupDate" class="form-field">

      <!-- ВРЕМЕ ПРЕУЗИМАЊА - ДОДАЈ ОВО -->
      <input type="time" formControlName="pickupTime" class="form-field">

      <!-- Локација враћања -->
      <select formControlName="dropoffLocation" class="form-field">
        <option [ngValue]="null" disabled>Локација враћања</option>
        <option *ngFor="let loc of locations" [value]="loc">{{ loc }}</option>
      </select>

      <!-- Датум враћања -->
      <input type="date" formControlName="dropoffDate" class="form-field">

      <!-- ВРЕМЕ ВРАЋАЊА - ДОДАЈ ОВО -->
      <input type="time" formControlName="dropoffTime" class="form-field">

      <!-- Дугме -->
      <button type="submit" class="search-button">Претражи</button>
    </form>

    <div class="card-grid">
      <app-car-card
        *ngFor="let c of filteredCars"
        [car]="c"
        (removedCar)="deleteCar(c)"
      ></app-car-card>
    </div>
  </div>
</div>
